---
title: "Join Indices"
author: "Sterling Fearing"
date: "6/11/2022"
output: html_document
---

Goal: Join demand index, NRA, law index, and political rep. 

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
# load libraries

library(tidyverse)
library(here)
library(dplyr)

```

```{r}
# load data

demandRaw <- read_csv(here("code/data/demandIndex.csv"))
NRAraw <- read_csv(here("code/data/NRAcounty2.csv"))
lawRaw <- read_csv(here("code/data/lawIndexSum.csv"))
partyRaw <- read_csv(here("code/data/stateParty.csv"))
```

```{r}

# join tables for exploratory analysis

join1 <- left_join(demandRaw, NRAraw, by= "GEOID") %>%
  mutate(stateFIPS = stateFIPS.x) # change column name to match lawRaw

join2 <- left_join(join1, lawRaw, by= "stateFIPS")

join3 <- left_join(join2, partyRaw, by= "stateFIPS")
  
```

```{r}

# delete repeating variables

clean1 <- join3 %>%
  select(GEOID, stateFIPS.x, countyFIPS.x, age15_17D, age18_19D, age20_24D, age25_29D, age30_34D, age35_39D, age40_49D, age15_49D, )
```

